[
  {
    "model": "ajustest",
    "all": "SELECT a.AJUNUM, a.AJUFEC, a.PRODCOD, p.PRODDES, a.AJUCAN FROM ajustest AS a INNER JOIN producto AS p ON p.PRODCOD = a.PRODCOD ORDER BY a.AJUNUM DESC;"
  },
  {
    "model": "clientes",
    "all": "SELECT c.CLICOD, c.IVACOD, CASE WHEN c.CLIFAN <> '' THEN CONCAT(c.CLINOM, ' | ' , c.CLIFAN) ELSE c.CLINOM END CLINOM, c.VENCOD, v.VENNOM, c.CLIDOM, c.CLILOC, c.CLITEL, CASE CLIEST WHEN 'A' THEN 'Activo' WHEN 'I' THEN 'Inactivo' ELSE CLIEST END CLIEST, (SELECT COUNT(*) FROM cliente1 c1 WHERE c1.CLICOD=c.CLICOD) CLITIP FROM clientes c LEFT JOIN vendedor v ON v.VENCOD = c.VENCOD ORDER BY c.CLICOD;"
  },
  {
    "model": "clientes-activos",
    "all": "SELECT c.CLICOD, c.IVACOD, CASE WHEN c.CLIFAN <> '' THEN CONCAT(c.CLINOM, ' | ' , c.CLIFAN) ELSE c.CLINOM END CLINOM, v.VENNOM, c.CLIDOM, c.CLILOC, c.CLITEL, CASE CLIEST WHEN 'A' THEN 'Activo' WHEN 'I' THEN 'Inactivo' ELSE CLIEST END CLIEST  FROM clientes c INNER JOIN vendedor v ON v.VENCOD = c.VENCOD WHERE c.VENCOD={search} ORDER BY c.CLICOD;"
  },
  {
    "model": "clientes-tipos",
    "all": "SELECT c.ID, c.TIPCOD, t.TIPDES, c.CLIPRODPRE FROM cliente1 c INNER JOIN tipo t ON c.TIPCOD = t.TIPCOD WHERE CLICOD={search} ORDER BY c.TIPCOD;"
  },
  {
    "model": "clientes-remitos",
    "all": "SELECT r.REMNUM, r.REMFEC, e.ESTDES, r.REMFACNUM, r.REMPAGNUM, r.REMDES, r.REMFACLET, (SELECT SUM(ri.REMCAN*ri.REMPRE) FROM remiitem ri WHERE ri.REMNUM = r.REMNUM)-r.REMDES TOTAL FROM remitos r INNER JOIN estados e ON e.ESTCOD = r.ESTCOD WHERE r.REMNUM > 0 AND  r.ESTCOD = 'S' AND r.CLICOD={search} ORDER BY r.REMNUM;"
  },
  {
    "model": "clientes-saldos",
    "all": "SELECT 'Presupuestos' TYPE, IFNULL((SELECT SUM(REMPRE*REMCAN)*-1 FROM remitos r INNER JOIN remiitem i on i.REMNUM = r.REMNUM WHERE r.CLICOD={search}),0) AMOUNT UNION SELECT 'Pagos', IFNULL((SELECT SUM(PAGIMP) FROM pagos2 WHERE PAGNUM IN (SELECT PAGNUM FROM pagos WHERE CLICOD={search})),0) UNION SELECT  'Balance Actual', CLISALIMP  FROM clientes WHERE CLICOD={search};"
  },
  {
    "model": "concepto",
    "all": "SELECT c.CONNUM, c.CONFEC, c.CONDES, c.CONCLI, CASE WHEN cl.CLIFAN <> '' THEN CONCAT(cl.CLINOM, ' | ' , cl.CLIFAN) ELSE cl.CLINOM END CLINOM, c.CONCANDEB, c.CONCANHAB FROM concepto c INNER JOIN clientes cl ON c.CONCLI = cl.CLICOD ORDER BY c.CONNUM DESC;"
  },
  {
    "model": "estados",
    "all": "SELECT ID, ESTCOD, ESTDES FROM estados ORDER BY ESTCOD;"
  },
  {
    "model": "iva",
    "all": "SELECT ID, IVACOD, IVADES, CASE IVAEST WHEN 'A' THEN 'Activo' WHEN 'I' THEN 'Inactivo' ELSE IVAEST END IVAEST FROM iva ORDER BY IVACOD;"
  },
  {
    "model": "numeros",
    "all": "SELECT ID, NUMCOD, NUMDES, NUMVAL, NUMPV FROM numeros ORDER BY NUMCOD;"
  },
  {
    "model": "pagos",
    "all": "SELECT p.ID, p.PAGNUM, p.PAGFEC, p.CLICOD, c.CLINOM, (SELECT  IFNULL(SUM(PAGIMP), 0) FROM pagos2 WHERE PAGNUM <> 0 AND PAGNUM = p.PAGNUM) TOTAL FROM pagos p INNER JOIN clientes c ON p.CLICOD = c.CLICOD WHERE p.PAGNUM <> 0 ORDER BY p.PAGNUM DESC;"
  },
  {
    "model": "pagos-remitos",
    "all": "SELECT p.ID, r.REMNUM, p.PAGNUM, p.REMNUM, r.REMFEC, r.REMDES, (SELECT IFNULL(SUM(REMCAN*REMPRE),0) FROM remiitem ri WHERE REMNUM=p.REMNUM)-r.REMDES REMTOT, r.ESTCOD, e.ESTDES FROM pagos1 p INNER JOIN remitos r ON r.REMNUM=p.REMNUM INNER JOIN estados e ON r.ESTCOD = e.ESTCOD WHERE p.PAGNUM={search} ORDER BY r.REMNUM;"
  },
  {
    "model": "pagos-remitos-pending",
    "all": "SELECT r.REMNUM, r.REMFEC, r.REMDES, (SELECT IFNULL(SUM(REMCAN*REMPRE),0) FROM remiitem WHERE REMNUM=r.REMNUM)-r.REMDES REMTOT FROM remitos r WHERE r.ESTCOD='S' AND r.REMNUM NOT IN (SELECT REMNUM FROM PAGOS1) AND r.REMNUM > 0 AND r.CLICOD={search} ORDER BY r.REMNUM;"
  },
  {
    "model": "pagos-valores",
    "all": "SELECT p2.ID, p.PAGNUM, p.PAGFEC, PAGSEC, PAGTIP, PAGIMP, PAGCHENUM, PAGCHEBAN FROM pagos2 p2 INNER JOIN pagos p ON p.PAGNUM=p2.PAGNUM WHERE p2.PAGNUM={search} ORDER BY p2.PAGSEC;"
  },
  {
    "model": "porciva",
    "all": "SELECT ID, IVAFEC, IVAPOR FROM porciva;"
  },
  {
    "model": "producto",
    "all": "SELECT p.ID, p.PRODCOD, p.PRODDES, p.TIPCOD, t.TIPDES, p.SUBTIPCOD, t1.SUBTIPDES, p.PRODSTO, p.PRODPRE, CASE p.PRODEST WHEN 'A' THEN 'Activo' WHEN 'I' THEN 'Inactivo' ELSE p.PRODEST END PRODEST FROM producto p INNER JOIN tipo t ON t.TIPCOD = p.TIPCOD LEFT JOIN tipo1 t1 ON t1.TIPCOD = p.TIPCOD AND t1.SUBTIPCOD = p.SUBTIPCOD ORDER BY p.PRODCOD;"
  },
  {
    "model": "producto-activos",
    "all": "SELECT p.ID, p.PRODCOD, p.PRODDES, p.TIPCOD, t.TIPDES, p.SUBTIPCOD, t1.SUBTIPDES, p.PRODPRE FROM producto p INNER JOIN tipo t ON p.TIPCOD = t.TIPCOD INNER JOIN tipo1 t1 ON t1.TIPCOD = p.TIPCOD AND p.SUBTIPCOD = t1.SUBTIPCOD WHERE p.PRODEST='A' AND p.PRODSTO > 0 AND t.TIPDES <> '' ORDER BY p.PRODCOD;"
  },
  {
    "model": "producto-ajustes",
    "all": "SELECT ID, AJUNUM, AJUFEC, AJUCAN, AJUOBS FROM ajustest WHERE PRODCOD={search} ORDER BY AJUNUM DESC;"
  },
  {
    "model": "producto-ventas",
    "multiCond": "SELECT r.REMNUM, r.REMFEC, c.CLINOM, SUM(ri.REMCAN) REMCAN FROM remitos r INNER JOIN clientes c ON r.CLICOD = c.CLICOD INNER JOIN remiitem ri ON ri.REMNUM = r.REMNUM AND ri.PRODCOD='{search}' AND r.REMFEC BETWEEN '{q1}' AND '{q2}' GROUP BY r.REMNUM, r.REMFEC, c.CLINOM;"
  },
  {
    "model": "producto-ventas-subtipo",
    "multiCond": "SELECT p.SUBTIPCOD, t.SUBTIPDES, p.PRODCOD, p.PRODDES, SUM(ri.REMCAN) REMCAN FROM remiitem ri INNER JOIN remitos r ON r.REMNUM = ri.REMNUM INNER JOIN producto p ON p.PRODCOD = ri.PRODCOD AND p.PRODEST = 'A' INNER JOIN tipo1 t ON t.SUBTIPCOD = p.SUBTIPCOD AND t.SUBTIPEST = 'A' WHERE r.REMFEC BETWEEN '{q1}' AND '{q2}' GROUP BY p.SUBTIPCOD, p.PRODCOD, p.PRODDES ORDER BY p.TIPCOD, p.SUBTIPCOD, REMCAN DESC;"
  },
  {
    "model": "provinci",
    "all": "SELECT PROCOD, PRONOM FROM provinci ORDER BY PROCOD;"
  },
  {
    "model": "remitos",
    "all": "SELECT r.REMNUM, r.REMFEC, r.REMDES, e.ESTDES, r.VENCOD, v.VENNOM, r.CLICOD, CASE WHEN c.CLIFAN <> '' THEN CONCAT(c.CLINOM, ' | ' , c.CLIFAN) ELSE c.CLINOM END CLINOM, COUNT(i.REMCAN) REMQTY, IFNULL(SUM(i.REMPRE * i.REMCAN),0) REMTOT FROM remitos r LEFT OUTER JOIN remiitem i ON i.REMNUM = r.REMNUM INNER JOIN estados e ON r.ESTCOD = e.ESTCOD INNER JOIN vendedor v ON r.VENCOD = v.VENCOD INNER JOIN clientes c ON r.CLICOD = c.CLICOD WHERE r.REMNUM > 0 GROUP BY r.REMNUM ORDER BY r.REMNUM DESC;"
  },
  {
    "model": "remitos-items",
    "all": "SELECT r.ID, r.REMNUM, p.PRODCOD, p.PRODDES, r.REMCAN, r.REMPRE FROM remiitem r INNER JOIN producto p ON p.PRODCOD = r.PRODCOD WHERE r.REMNUM={search}"
  },
  {
    "model": "remitos-compact",
    "all": "SELECT r.REMNUM, t.TIPCOD PRODCOD, t.TIPDES PRODDES, SUM(r.REMCAN) REMCAN, r.REMPRE FROM remiitem r INNER JOIN producto p ON p.PRODCOD = r.PRODCOD INNER JOIN tipo t ON t.TIPCOD = p.TIPCOD WHERE r.REMNUM={search} GROUP BY t.TIPCOD, t.TIPDES"
  },
  {
    "model": "remitos-deudores",
    "all": "SELECT r.CLICOD, c.CLINOM, r.VENCOD, v.VENNOM, c.CLILOC, IFNULL(c.CLISALDEB,0) CLISALDEB, IFNULL(c.CLISALHAB,0) CLISALHAB, r.REMNUM, r.REMFEC, r.REMFACNUM, IFNULL((SELECT ROUND(SUM(ri.REMCAN*ri.REMPRE),2) FROM remiitem ri WHERE ri.REMNUM = r.REMNUM),0)-r.REMDES TOTAL, DATEDIFF(NOW(), r.REMFEC) DAYS FROM remitos r INNER JOIN clientes c ON c.CLICOD = r.CLICOD INNER JOIN vendedor v ON v.VENCOD = r.VENCOD WHERE r.REMNUM > 0 AND r.ESTCOD = 'S' ORDER BY DAYS DESC, r.VENCOD ASC, r.CLICOD ASC;"
  },
  {
    "model": "tipo",
    "all": "SELECT ID, TIPCOD, TIPDES, (SELECT COUNT(*) FROM tipo1 WHERE tipo1.TIPCOD = t.TIPCOD) SUBTIPOS, CASE TIPEST WHEN 'A' THEN 'Activo' WHEN 'I' THEN 'Inactivo' ELSE TIPEST END TIPEST FROM tipo t ORDER BY t.TIPCOD",
    "update-price": "UPDATE producto SET PRODPRE={PRODPRE} WHERE PRODEST='A' AND TIPCOD='{TIPCOD}';"
  },
  {
    "model": "tipo-activos",
    "all": "SELECT ID, TIPCOD, TIPDES FROM tipo WHERE TIPEST='A' ORDER BY TIPCOD;"
  },
  {
    "model": "tipo-subtipos",
    "all": "SELECT t1.ID, t1.TIPCOD, t.TIPDES, SUBTIPCOD, SUBTIPDES, CASE SUBTIPEST WHEN 'A' THEN 'Activo' WHEN 'I' THEN 'Inactivo' ELSE SUBTIPEST END SUBTIPEST FROM tipo1 t1 INNER JOIN tipo t ON t.TIPCOD = t1.TIPCOD WHERE t1.TIPCOD = '{search}' ORDER BY t1.TIPCOD, t1.SUBTIPCOD"
  },
  {
    "model": "tipo1",
    "all": "SELECT t1.ID, t1.TIPCOD, t.TIPDES, t1.SUBTIPCOD, t1.SUBTIPDES, CASE t1.SUBTIPEST WHEN 'A' THEN 'Activo' WHEN 'I' THEN 'Inactivo' ELSE SUBTIPEST END SUBTIPEST FROM tipo1 t1 INNER JOIN tipo t ON t1.TIPCOD = t.TIPCOD ORDER BY t1.TIPCOD, t1.SUBTIPCOD;"
  },
  {
    "model": "tipo1-activos",
    "all": "SELECT ID, TIPCOD, SUBTIPCOD, SUBTIPDES FROM tipo1 WHERE SUBTIPEST='A'"
  },
  {
    "model": "transpor",
    "all": "SELECT ID, TRACOD, TRANOM, TRADOM, TRALOC, TRATEL, CASE TRAEST WHEN 'A' THEN 'Activo' WHEN 'I' THEN 'Inactivo' ELSE TRAEST END TRAEST FROM transpor ORDER BY 1;"
  },
  {
    "model": "transpor-activos",
    "all": "SELECT ID, TRACOD, TRANOM, TRADOM, TRALOC, TRATEL FROM transpor WHERE TRAEST='A'"
  },
  {
    "model": "vendedor",
    "all": "SELECT ID, VENCOD, VENNOM, VENDOM, VENLOC, VENTEL, CASE VENEST WHEN 'A' THEN 'Activo' WHEN 'I' THEN 'Inactivo' ELSE VENEST END VENEST FROM vendedor ORDER BY VENCOD;"
  },
  {
    "model": "vendedor-activos",
    "all": "SELECT ID, VENCOD, VENNOM, VENDOM, VENLOC, VENTEL FROM vendedor WHERE VENEST='A' ORDER BY 1;"
  },
  {
    "model": "vendedor-productos",
    "all": "SELECT v.ID, CONCAT(v.TIPCOD, ' - ', t.TIPDES) TIPDES, v.VENCOM FROM vendedo2 v INNER JOIN tipo t ON t.TIPCOD = v.TIPCOD WHERE VENCOD={search} ORDER BY v.TIPCOD, t.TIPDES;"
  }
]
